var D=Object.defineProperty,N=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var T=(e,o,t)=>o in e?D(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,k=(e,o)=>{for(var t in o||(o={}))L.call(o,t)&&T(e,t,o[t]);if(V)for(var t of V(o))q.call(o,t)&&T(e,t,o[t]);return e},b=(e,o)=>N(e,F(o));import{r as _,j as E,v as I,o as y,a as $,d as p,t as S,i as R,h as C,c as j,w as d,f as z,e as l,n as G,B as v,I as J,J as P,F as U}from"./vue-libs.bd45fd12.js";import{o as A}from"./index.f8f182f1.js";import{T as H}from"./index.2a93f74f.js";import{s as w,T as f}from"./index.bfbdac71.js";import{_ as B}from"./iframe-router.23d146a7.js";import{a as K,c as M}from"./index.db2464c0.js";import"./index.b4e40b9d.js";/* empty css                                              */const O="TDialog",Q={callback:Function,modelValue:Boolean,title:String,message:String,beforClose:Function,type:{type:String,default:"alert"}},W=["confirm","cancel","update:modelValue"],X={overlay:A,TButton:H},Y=(e,{attrs:o,slots:t,emit:m})=>{const r=v(),s=v(!0),n=v(!1),i=v(!1);function u(c){if(!(n.value||i.value)){if(e.beforClose)return c=="confirm"?n.value=!0:i.value=!0,e.beforClose(c,h.bind(null,c));h(c)}}function h(c){n.value=!1,i.value=!1,e.callback?(s.value=!1,e.callback(c)):m(c),w().then(()=>{m("update:modelValue",!1)})}return{handleClick:u,dialogRef:r,maskShow:s,confirmLoading:n,cancelLoading:i}},Z={name:O,props:Q,emits:W,components:X,setup:Y},x={class:"dialog-warp",ref:"dialogRef"},ee={class:"dialog-content"},oe={class:"dialog-content-title"},te={class:"dialog-content-text"},le=C("\u53D6\u6D88"),ne=C("\u786E\u5B9A");function ae(e,o,t,m,r,s){const n=_("t-button"),i=_("overlay");return E((y(),$("div",x,[p("div",ee,[p("h3",oe,S(e.title),1),p("div",te,[R(e.$slots,"default",{},()=>[C(S(e.message),1)],!0)])]),p("div",{class:G(["dialog-button",{"button-border":e.type=="confirm"}])},[e.type=="confirm"?(y(),j(n,{key:0,class:"dialog-button-cancel",square:"","loading-type":"loading",loading:e.cancelLoading,onClick:o[0]||(o[0]=u=>e.handleClick("cancel"))},{default:d(()=>[le]),_:1},8,["loading"])):z("v-if",!0),l(n,{class:"dialog-button-confirm",square:"","loading-type":"loading",loading:e.confirmLoading,onClick:o[1]||(o[1]=u=>e.handleClick("confirm"))},{default:d(()=>[ne]),_:1},8,["loading"])],2),l(i,{show:e.modelValue&&e.maskShow},null,8,["show"])],512)),[[I,e.modelValue]])}var g=B(Z,[["render",ae],["__scopeId","data-v-7330c014"]]);function a(e={}){e.modelValue=!0;const o=document.createElement("div");return document.body.appendChild(o),new Promise((t,m)=>{e.callback=s=>{(s==="confirm"?t:m)(),r.el.style.opacity=0,w(200).then(()=>{document.body.removeChild(o)})};const r=J(g,e);P(r,o)})}a.alert=function(e){return a(b(k({},e),{type:"alert"}))};a.confirm=function(e){return a(b(k({},e),{type:"confirm"}))};g.install=function(e){e.component(g.name,g)};a.Component=g;a.install=function(e){e.use(a.Component)};const se={components:{TDialog:a.Component,cellGroup:K,cell:M},data(){return{show:!1}},methods:{beforClose(e,o){e=="confirm"?w(2e3).then(o):o()},asyncClose(){a.confirm({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002",beforClose:this.beforClose}).then(()=>{f("\u786E\u5B9A")}).catch(()=>{f("\u53D6\u6D88")})},onClick(){a.confirm({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{f("\u786E\u5B9A")}).catch(()=>{f("\u53D6\u6D88")})},onClick2(){a.alert({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{f("\u786E\u5B9A")})},notTitle(){a.alert({message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{f("\u786E\u5B9A")})}}},ie=p("div",{class:"insert"},[C(" \u7EC4\u4EF6\u7528\u6CD5\u53EF\u4EE5\u901A\u8FC7\u9ED8\u8BA4\u63D2\u69FD\u5D4C\u5165\u4EFB\u610F\u5185\u5BB9"),p("br"),C("(\u6587\u5B57\u3001html\u8282\u70B9\u6216\u8005\u7EC4\u4EF6) ")],-1);function ce(e,o,t,m,r,s){const n=_("cell"),i=_("cell-group"),u=_("demo-block"),h=_("t-dialog");return y(),$(U,null,[l(u,{title:"\u57FA\u7840\u7528\u6CD5"},{default:d(()=>[l(i,null,{default:d(()=>[l(n,{title:"\u63D0\u793A\u5F39\u7A97",onClick:s.onClick2},null,8,["onClick"]),l(n,{title:"\u63D0\u793A\u5F39\u7A97(\u65E0\u6807\u9898)",onClick:s.notTitle},null,8,["onClick"]),l(n,{title:"\u786E\u8BA4\u5F39\u7A97",onClick:s.onClick},null,8,["onClick"])]),_:1})]),_:1}),l(u,{title:"\u5F02\u6B65\u5173\u95ED"},{default:d(()=>[l(i,null,{default:d(()=>[l(n,{title:"\u5F02\u6B65\u5173\u95ED",onClick:s.asyncClose},null,8,["onClick"])]),_:1})]),_:1}),l(u,{title:"\u7EC4\u4EF6\u8C03\u7528"},{default:d(()=>[l(h,{modelValue:r.show,"onUpdate:modelValue":o[0]||(o[0]=c=>r.show=c),title:"\u6807\u9898"},{default:d(()=>[ie]),_:1},8,["modelValue"]),l(i,null,{default:d(()=>[l(n,{title:"\u63D0\u793A\u5F39\u7A97",onClick:o[1]||(o[1]=c=>r.show=!0)})]),_:1})]),_:1})],64)}var he=B(se,[["render",ce]]);export{he as default};
